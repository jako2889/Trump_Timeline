"use strict";let allTruths;const arrayOfTruths=[],Truth={id:"-full name-",title:"-house type-",text:"-text-",source:"-source-",setDATA(e){this.id=e.id,this.title=e.title,this.text=e.text,this.source=e.source}};function loadSVG(){console.log("LOAD THE SVG"),fetch("DonalTrumpLies_Timeline-01.svg").then(e=>e.text()).then(e=>{document.querySelector("#svg_timeline").insertAdjacentHTML("afterbegin",e);const t=document.querySelector("#svg_timeline > svg");animateSVG(t),getAllInfoboxes(t),getJson()})}function getJson(){fetch("sources.json").then(e=>e.json()).then(e=>{allTruths=e,console.log("Non manipulation Json DATA: ",allTruths),createPrototype(allTruths)})}function createPrototype(e){e.forEach(e=>{let t=Object.create(Truth);t.setDATA(e),arrayOfTruths.push(t)}),console.log("Manipulation array: ",arrayOfTruths)}function getAllInfoboxes(e){let t=e.querySelectorAll('[id^="infobox"]'),n=e.querySelector("#point1");n.classList.add("infoboxStyles"),n.addEventListener("click",e=>{e.preventDefault(),ModalClicked(n)}),t.forEach(e=>{console.log("Box",e),e.classList.add("infoboxStyles"),e.addEventListener("click",t=>{t.preventDefault(),ModalClicked(e)})}),EventhandleFunction()}function EventhandleFunction(){document.querySelector(".description_box").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".description_box").style.left="-225px"}),document.querySelector(".TheEndLie_text").addEventListener("click",()=>{window.location.href="https://www.washingtonpost.com/politics/2018/11/02/president-trump-has-made-false-or-misleading-claims-over-days/?utm_term=.505062c25770"}),document.querySelector(".close").addEventListener("click",function(){document.querySelector(".modal").style.bottom="-1150px",document.querySelector(".modal").style.background="none"})}function animateSVG(e){console.log("This is the timeline svg",e),console.log("This is an element inside the svg ",e.getElementById("point1")),setTimeout(function(){document.querySelector(".description_box").style.left="0"},3e3);let t=e.getElementById("point1").querySelector(".cls-83"),n=e.getElementById("point1").querySelector("ellipse:nth-of-type(1)"),o=e.querySelector("#trump > circle:nth-child(3)"),l=e.querySelector("#point1 > line"),i=e.querySelector("#trump > g");console.log(o),console.log(n),setTimeout(function(){o.style.opacity="1"},1e3),setTimeout(function(){i.style.transform="translateY(0)"},1e3),setTimeout(function(){n.style.opacity="1"},1500),setTimeout(function(){t.style.opacity="1"},2e3),setTimeout(function(){l.style.opacity="1",l.style.transform="translateX(0)"},2500);let r=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:"#point1"}).setClassToggle("#point1","dateAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point1_line"}).setClassToggle("#point1_line","lineAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point2"}).setClassToggle("#point2","dateAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point2"}).setClassToggle("#infobox2","skewLeft").addTo(r),new ScrollMagic.Scene({triggerElement:"#point2_line"}).setClassToggle("#point2_line","lineAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point3"}).setClassToggle("#point3","dateAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point3"}).setClassToggle("#infobox3","skewRight").addTo(r),new ScrollMagic.Scene({triggerElement:"#point3_line"}).setClassToggle("#point3_line","lineAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point4"}).setClassToggle("#point4","dateAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point4"}).setClassToggle("#infobox4","skewLeft").addTo(r),new ScrollMagic.Scene({triggerElement:"#point4_line"}).setClassToggle("#point4_line","lineAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point5"}).setClassToggle("#point5","dateAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point5"}).setClassToggle("#infobox5","skewRight").addTo(r),new ScrollMagic.Scene({triggerElement:"#point5_line"}).setClassToggle("#point5_line","lineAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point6"}).setClassToggle("#point6","dateAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point6"}).setClassToggle("#infobox6","skewLeft").addTo(r),new ScrollMagic.Scene({triggerElement:"#point6_line"}).setClassToggle("#point6_line","lineAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point7"}).setClassToggle("#point7","dateAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point7"}).setClassToggle("#infobox7","skewRight").addTo(r),new ScrollMagic.Scene({triggerElement:"#point7_line"}).setClassToggle("#point7_line","lineAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point8"}).setClassToggle("#point8","dateAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point8"}).setClassToggle("#infobox8","skewLeft").addTo(r),new ScrollMagic.Scene({triggerElement:"#point8_line"}).setClassToggle("#point8_line","lineAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point9"}).setClassToggle("#point9","dateAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point9"}).setClassToggle("#infobox9","skewRight").addTo(r),new ScrollMagic.Scene({triggerElement:"#point9_line"}).setClassToggle("#point9_line","lineAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point10"}).setClassToggle("#point10","dateAnimation").addTo(r),new ScrollMagic.Scene({triggerElement:"#point10"}).setClassToggle(".TheEndLie_con","skewUp").addTo(r)}function ModalClicked(e){console.log("clicked infobox",e),document.querySelector(".modal").style.bottom="0",setTimeout(function(){document.querySelector(".modal").style.background="rgba(0, 0, 0, 0.2)"},1e3);let t=e.id.toString().substring(7,8),n=e.id.toString().substring(5,6);arrayOfTruths.forEach(e=>{t===e.id?(console.log("Number",t),document.querySelector(".description_box").style.left="-225px",document.querySelector(".title").textContent=e.title,document.querySelector(".text").textContent=e.text,document.querySelector(".source_link").href=e.source,document.querySelector(".image").src="imgs/Trump"+t+".jpg"):n===e.id&&(document.querySelector(".description_box").style.left="-225px",document.querySelector(".title").textContent=e.title,document.querySelector(".text").textContent=e.text,document.querySelector(".source_link").href=e.source,document.querySelector(".image").src="imgs/Trump"+n+".jpg")})}window.addEventListener("DOMContentLoaded",loadSVG);
